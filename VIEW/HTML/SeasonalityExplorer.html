<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seasonality Explorer</title>
    <link href="../SRC/output.css" rel="stylesheet" />
    <link href="../SRC/input.css" rel="stylesheet" />
    <link rel="stylesheet" href="../SRC/dashboardPNativestyle.css" />
    <link rel="stylesheet" href="../SRC/seasonalityExplorer.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="bg-gray-50">
    <!-- MAIN NAV BAR -->
    <nav id="mainnav" class="bg-white shadow-md z-50 fixed top-0 w-full">
      <div class="max-w-7xl mx-auto px-4 py-2 flex items-center">
        <a href="../HTML/LandingP.html" class="flex-shrink-0">
          <img
            class="h-[50px] mr-[10px]"
            src="../SRC/IMG/bucallogonobg.png"
            alt=""
          />
        </a>
        <div class="text-xl w-[900px] font-bold">Seasonality Explorer</div>

        <!-- Desktop Nav -->
        <div class="hidden md:flex w-full justify-end pr-4 font-semibold">
          <!-- Leave Empty or Add Other Icons If Needed -->
        </div>
        <div class="hidden md:flex font-semibold">
          <a
            href="../HTML/LandingP.html"
            class="block text-gray-700 hover:text-blue-600 mx-[20px]"
          >
            Home</a
          >
          <a href="#" class="block text-gray-700 hover:text-blue-600 mx-[20px]"
            >Services</a
          >
          <a
            href="../HTML/ProfileSettings.html"
            class="block text-gray-700 hover:text-blue-600 mx-[20px]"
            >Profile</a
          >
        </div>
        <!-- Mobile Dropdown -->
        <div class="md:hidden w-full flex justify-end pr-4 relative">
          <!-- Toggle button -->
          <button id="menu-button" class="p-2">
            <svg
              class="w-8 h-7 text-zinc-950"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>

          <!-- Dropdown Menu -->
          <div
            id="dropdown-menu"
            class="transition-all duration-500 ease-in-out origin-top scale-y-0 opacity-0 absolute right-0 top-14 w-[230px] bg-white shadow-lg rounded-md z-50 font-semibold pointer-events-none"
          >
            <a
              href="../HTML/LandingP.html"
              class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
              >Home</a
            >
            <hr />
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
              >Services</a
            >
            <hr />
            <a
              href="../HTML/ProfileSettings.html"
              class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
              >Profile</a
            >
            <hr />
            <a
              href="../HTML/Dashboard.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Dashboard</a
            >
            <a
              href="../HTML/PatientFlowFcst.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Patient Flow Forecast</a
            >
            <a
              href="../HTML/ServiceUsageTrends.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Service Usage Trends</a
            >
            <a
              href="../HTML/BarangayMapView.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Barangay Map View</a
            >
            <a
              href="../HTML/SeasonalityExplorer.html"
              class="dropdown-link active block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Seasonality Explorer</a
            >
            <a
              href="../HTML/StaffingPlanner.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Staffing Planner</a
            >
            <a
              href="../HTML/InventoryAlertSystem.html"
              class="dropdown-link block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 mb-2"
              >Inventory Alert System</a
            >
          </div>
        </div>
      </div>
    </nav>

    <!-- SIDEBAR BELOW NAV, FOR DESKTOP ONLY -->
    <div
      class="hidden md:block bg-white w-52 h-screen shadow-md fixed top-[72px] left-0 z-40"
    >
      <div class="flex flex-col p-6 font-semibold justify-center">
        <a
          href="../HTML/Dashboard.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Dashboard</a
        >
        <a
          href="../HTML/PatientFlowFcst.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Patient Flow Forecast</a
        >
        <a
          href="../HTML/ServiceUsageTrends.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Service Usage Trends</a
        >
        <a
          href="../HTML/BarangayMapView.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Barangay Map View</a
        >
        <a
          href="../HTML/SeasonalityExplorer.html"
          class="sidebar-link active mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Seasonality Explorer</a
        >
        <a
          href="../HTML/StaffingPlanner.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
          >Staffing Planner</a
        >
        <a
          href="../HTML/InventoryAlertSystem.html"
          class="sidebar-link mods block text-gray-700 hover:text-blue-600 transition-all duration-300 ease-in-out transform hover:scale-105 hover:translate-x-1 px-2 py-4 rounded-md hover:bg-blue-50"
        >
          Inventory <br />Alert System
        </a>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="md:ml-52 pt-[72px] min-h-screen">
      <!-- Header Section -->
      <div
        class="bg-gradient-to-r from-orange-600 to-orange-800 text-white p-6"
      >
        <div class="max-w-7xl mx-auto">
          <div class="flex items-center mb-4">
            <img
              src="../SRC/ICON/Seasonality.png"
              alt="Seasonality"
              class="w-12 h-12 mr-4"
            />
            <div>
              <h1 class="text-3xl font-bold">Seasonality Explorer</h1>
              <p class="text-orange-100 mt-1">
                Explore seasonal patterns in healthcare service demand
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="p-6 space-y-6">
        <div class="max-w-7xl mx-auto">
          <!-- Controls Section -->
          <div class="bg-white rounded-xl p-6 shadow-sm mb-6">
            <div class="flex flex-wrap items-center justify-between gap-4">
              <div class="flex flex-wrap items-center gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Year</label
                  >
                  <select
                    id="yearSelect"
                    class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                  >
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >Service Type</label
                  >
                  <select
                    id="serviceSelect"
                    class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                  >
                    <option value="all">All Services</option>
                    <option value="dengue">Dengue Treatment</option>
                    <option value="flu">Flu/Cold Treatment</option>
                    <option value="vaccination">Vaccination</option>
                    <option value="checkup">General Checkup</option>
                    <option value="maternal">Maternal Care</option>
                  </select>
                </div>
              </div>
              <button
                id="refreshData"
                class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"
              >
                Refresh Data
              </button>
            </div>
          </div>

          <!-- Key Insights Cards -->
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"
          >
            <!-- Peak Season Card -->
            <div
              class="bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl p-6 shadow-sm"
            >
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-red-100 text-sm">Peak Season</p>
                  <h3 class="text-2xl font-bold">July-Sept</h3>
                  <p class="text-red-100 text-xs mt-1">Dengue Season</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-full p-3">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
                    />
                    <path
                      d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
                    />
                  </svg>
                </div>
              </div>
            </div>

            <!-- Low Season Card -->
            <div
              class="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-6 shadow-sm"
            >
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">Low Season</p>
                  <h3 class="text-2xl font-bold">Dec-Feb</h3>
                  <p class="text-blue-100 text-xs mt-1">Holiday Period</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-full p-3">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
              </div>
            </div>

            <!-- Growth Rate Card -->
            <div
              class="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl p-6 shadow-sm"
            >
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">YoY Growth</p>
                  <h3 class="text-2xl font-bold">+12.5%</h3>
                  <p class="text-green-100 text-xs mt-1">Overall Visits</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-full p-3">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      fill-rule="evenodd"
                      d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              </div>
            </div>

            <!-- Alert Index Card -->
            <div
              class="bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-xl p-6 shadow-sm"
            >
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-orange-100 text-sm">Alert Index</p>
                  <h3 class="text-2xl font-bold">High</h3>
                  <p class="text-orange-100 text-xs mt-1">Prepare for Aug</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-full p-3">
                  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      fill-rule="evenodd"
                      d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>

          <!-- Main Chart Section -->
          <div class="bg-white rounded-xl p-6 shadow-sm mb-6">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-xl font-bold text-gray-900">
                Monthly Visit Trends
              </h2>
              <div class="flex items-center space-x-2">
                <button
                  id="chartTypeBtn"
                  class="text-sm px-3 py-1 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors"
                >
                  Switch to Bar Chart
                </button>
              </div>
            </div>
            <div class="h-96">
              <canvas id="monthlyTrendChart"></canvas>
            </div>
          </div>

          <!-- Seasonal Patterns Grid -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Disease Pattern Analysis -->
            <div class="bg-white rounded-xl p-6 shadow-sm insight-panel">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-bold text-gray-900">
                  Disease Pattern Analysis
                </h3>
                <span class="seasonal-badge high-risk">Active Monitoring</span>
              </div>
              <div class="space-y-4">
                <div class="disease-pattern border-l-4 border-red-500 pl-4">
                  <div class="flex items-center justify-between mb-2">
                    <h4 class="font-semibold text-red-700">
                      Dengue Season (June-October)
                    </h4>
                    <span
                      class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full"
                      >Peak Risk</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mt-1 mb-3">
                    Peak in August with 300+ cases. Requires increased bed
                    capacity and medical supplies.
                  </p>
                  <div class="grid grid-cols-2 gap-4 mb-2">
                    <div class="text-center p-2 bg-red-50 rounded">
                      <div class="text-lg font-bold text-red-700">120</div>
                      <div class="text-xs text-red-600">Peak Cases</div>
                    </div>
                    <div class="text-center p-2 bg-red-50 rounded">
                      <div class="text-lg font-bold text-red-700">+35%</div>
                      <div class="text-xs text-red-600">vs Last Year</div>
                    </div>
                  </div>
                  <div class="mt-2">
                    <div
                      class="flex justify-between text-xs text-gray-500 mb-1"
                    >
                      <span>Risk Level</span>
                      <span>85%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div
                        class="bg-red-500 h-2 rounded-full progress-bar"
                        style="width: 85%"
                      ></div>
                    </div>
                  </div>
                </div>

                <div class="disease-pattern border-l-4 border-blue-500 pl-4">
                  <div class="flex items-center justify-between mb-2">
                    <h4 class="font-semibold text-blue-700">
                      Flu Season (December-February)
                    </h4>
                    <span
                      class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"
                      >Moderate</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mt-1 mb-3">
                    Cold weather increases respiratory infections. Stock up on
                    flu medications.
                  </p>
                  <div class="grid grid-cols-2 gap-4 mb-2">
                    <div class="text-center p-2 bg-blue-50 rounded">
                      <div class="text-lg font-bold text-blue-700">95</div>
                      <div class="text-xs text-blue-600">Peak Cases</div>
                    </div>
                    <div class="text-center p-2 bg-blue-50 rounded">
                      <div class="text-lg font-bold text-blue-700">-5%</div>
                      <div class="text-xs text-blue-600">vs Last Year</div>
                    </div>
                  </div>
                  <div class="mt-2">
                    <div
                      class="flex justify-between text-xs text-gray-500 mb-1"
                    >
                      <span>Risk Level</span>
                      <span>65%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div
                        class="bg-blue-500 h-2 rounded-full progress-bar"
                        style="width: 65%"
                      ></div>
                    </div>
                  </div>
                </div>

                <div class="disease-pattern border-l-4 border-green-500 pl-4">
                  <div class="flex items-center justify-between mb-2">
                    <h4 class="font-semibold text-green-700">
                      Vaccination Period (March-May)
                    </h4>
                    <span
                      class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full"
                      >Optimal</span
                    >
                  </div>
                  <p class="text-sm text-gray-600 mt-1 mb-3">
                    School vaccination programs and seasonal immunizations peak
                    during this period.
                  </p>
                  <div class="grid grid-cols-2 gap-4 mb-2">
                    <div class="text-center p-2 bg-green-50 rounded">
                      <div class="text-lg font-bold text-green-700">95</div>
                      <div class="text-xs text-green-600">Peak Vaccines</div>
                    </div>
                    <div class="text-center p-2 bg-green-50 rounded">
                      <div class="text-lg font-bold text-green-700">+12%</div>
                      <div class="text-xs text-green-600">vs Last Year</div>
                    </div>
                  </div>
                  <div class="mt-2">
                    <div
                      class="flex justify-between text-xs text-gray-500 mb-1"
                    >
                      <span>Activity Level</span>
                      <span>75%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div
                        class="bg-green-500 h-2 rounded-full progress-bar"
                        style="width: 75%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Monthly Heatmap -->
            <div class="bg-white rounded-xl p-6 shadow-sm">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-bold text-gray-900">
                  Visit Intensity Heatmap
                </h3>
                <div class="text-xs text-gray-500">
                  Click months for details
                </div>
              </div>
              <div class="grid grid-cols-4 gap-2 mb-4">
                <div class="text-center">
                  <div class="text-xs font-medium text-gray-600 mb-2">Q1</div>
                  <div class="space-y-1">
                    <div
                      class="heatmap-cell h-8 bg-blue-200 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-blue-300 transition-colors"
                      data-month="Jan"
                      data-visits="220"
                    >
                      Jan
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-blue-300 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-blue-400 transition-colors"
                      data-month="Feb"
                      data-visits="180"
                    >
                      Feb
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-green-400 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-green-500 transition-colors"
                      data-month="Mar"
                      data-visits="280"
                    >
                      Mar
                    </div>
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-xs font-medium text-gray-600 mb-2">Q2</div>
                  <div class="space-y-1">
                    <div
                      class="heatmap-cell h-8 bg-green-300 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-green-400 transition-colors"
                      data-month="Apr"
                      data-visits="240"
                    >
                      Apr
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-yellow-300 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-yellow-400 transition-colors"
                      data-month="May"
                      data-visits="260"
                    >
                      May
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-orange-400 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-orange-500 transition-colors"
                      data-month="Jun"
                      data-visits="380"
                    >
                      Jun
                    </div>
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-xs font-medium text-gray-600 mb-2">
                    Q3 <span class="seasonal-badge high-risk ml-1">Peak</span>
                  </div>
                  <div class="space-y-1">
                    <div
                      class="heatmap-cell h-8 bg-red-400 rounded flex items-center justify-center text-xs font-medium text-white cursor-pointer hover:bg-red-500 transition-colors alert-pulse"
                      data-month="Jul"
                      data-visits="450"
                    >
                      Jul
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-red-600 rounded flex items-center justify-center text-xs font-medium text-white cursor-pointer hover:bg-red-700 transition-colors alert-pulse"
                      data-month="Aug"
                      data-visits="520"
                    >
                      Aug
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-red-500 rounded flex items-center justify-center text-xs font-medium text-white cursor-pointer hover:bg-red-600 transition-colors alert-pulse"
                      data-month="Sep"
                      data-visits="480"
                    >
                      Sep
                    </div>
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-xs font-medium text-gray-600 mb-2">Q4</div>
                  <div class="space-y-1">
                    <div
                      class="heatmap-cell h-8 bg-orange-300 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-orange-400 transition-colors"
                      data-month="Oct"
                      data-visits="350"
                    >
                      Oct
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-yellow-200 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-yellow-300 transition-colors"
                      data-month="Nov"
                      data-visits="200"
                    >
                      Nov
                    </div>
                    <div
                      class="heatmap-cell h-8 bg-blue-200 rounded flex items-center justify-center text-xs font-medium cursor-pointer hover:bg-blue-300 transition-colors"
                      data-month="Dec"
                      data-visits="160"
                    >
                      Dec
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="flex items-center justify-between text-xs text-gray-500 mb-4"
              >
                <span>Low Activity</span>
                <div class="flex space-x-1">
                  <div class="w-3 h-3 bg-blue-200 rounded"></div>
                  <div class="w-3 h-3 bg-green-300 rounded"></div>
                  <div class="w-3 h-3 bg-yellow-300 rounded"></div>
                  <div class="w-3 h-3 bg-orange-400 rounded"></div>
                  <div class="w-3 h-3 bg-red-500 rounded"></div>
                </div>
                <span>High Activity</span>
              </div>
              <!-- Selected Month Details -->
              <div
                id="monthDetails"
                class="hidden bg-gray-50 rounded-lg p-4 mt-4"
              >
                <div class="flex items-center justify-between mb-2">
                  <h4 class="font-semibold text-gray-900" id="selectedMonth">
                    Month Details
                  </h4>
                  <button
                    id="closeDetails"
                    class="text-gray-400 hover:text-gray-600"
                  >
                    <svg
                      class="w-4 h-4"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </button>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <div class="text-sm text-gray-600">Total Visits</div>
                    <div
                      class="text-lg font-bold text-gray-900"
                      id="monthVisits"
                    >
                      -
                    </div>
                  </div>
                  <div>
                    <div class="text-sm text-gray-600">Trend</div>
                    <div class="text-lg font-bold" id="monthTrend">-</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Predictive Insights -->
          <div class="bg-white rounded-xl p-6 shadow-sm mb-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-bold text-gray-900">
                Predictive Insights & Recommendations
              </h3>
              <div class="text-xs text-gray-500">AI-powered forecasting</div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              <!-- Next Month Prediction -->
              <div
                class="insight-card bg-orange-50 border border-orange-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-orange-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <h4 class="font-semibold text-orange-800">August Forecast</h4>
                  <span
                    class="ml-auto text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded-full"
                    >High Confidence</span
                  >
                </div>
                <p class="text-sm text-orange-700 mb-3">
                  Expected 15% increase in dengue cases
                </p>
                <div class="bg-orange-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Predicted Cases:</span>
                    <span class="font-semibold">520-580</span>
                  </div>
                </div>
                <div class="text-xs text-orange-600">
                  <strong>Action:</strong> Increase medical supplies and staff
                  scheduling
                </div>
              </div>

              <!-- Resource Planning -->
              <div
                class="insight-card bg-blue-50 border border-blue-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-blue-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"
                    />
                  </svg>
                  <h4 class="font-semibold text-blue-800">Staff Planning</h4>
                  <span
                    class="ml-auto text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full"
                    >Recommended</span
                  >
                </div>
                <p class="text-sm text-blue-700 mb-3">
                  Reduce staff by 20% in December
                </p>
                <div class="bg-blue-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Optimal Staff:</span>
                    <span class="font-semibold">12-15 people</span>
                  </div>
                </div>
                <div class="text-xs text-blue-600">
                  <strong>Rationale:</strong> Historical low activity period
                </div>
              </div>

              <!-- Inventory Alert -->
              <div
                class="insight-card bg-red-50 border border-red-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-red-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <h4 class="font-semibold text-red-800">Critical Alert</h4>
                  <span
                    class="ml-auto text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full alert-pulse"
                    >Urgent</span
                  >
                </div>
                <p class="text-sm text-red-700 mb-3">
                  Stock dengue test kits by June
                </p>
                <div class="bg-red-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Required Stock:</span>
                    <span class="font-semibold">500+ kits</span>
                  </div>
                </div>
                <div class="text-xs text-red-600">
                  <strong>Timeline:</strong> Order 2 months before peak season
                </div>
              </div>

              <!-- Weather Impact -->
              <div
                class="insight-card bg-purple-50 border border-purple-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-purple-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <h4 class="font-semibold text-purple-800">Weather Impact</h4>
                  <span
                    class="ml-auto text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded-full"
                    >Seasonal</span
                  >
                </div>
                <p class="text-sm text-purple-700 mb-3">
                  Rainy season increases vector-borne diseases
                </p>
                <div class="bg-purple-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Risk Period:</span>
                    <span class="font-semibold">June-October</span>
                  </div>
                </div>
                <div class="text-xs text-purple-600">
                  <strong>Monitor:</strong> Standing water and breeding sites
                </div>
              </div>

              <!-- Vaccination Schedule -->
              <div
                class="insight-card bg-green-50 border border-green-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-green-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <h4 class="font-semibold text-green-800">
                    Vaccination Schedule
                  </h4>
                  <span
                    class="ml-auto text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full"
                    >Planned</span
                  >
                </div>
                <p class="text-sm text-green-700 mb-3">
                  School vaccination program starts March
                </p>
                <div class="bg-green-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Target Students:</span>
                    <span class="font-semibold">1,200+</span>
                  </div>
                </div>
                <div class="text-xs text-green-600">
                  <strong>Prepare:</strong> Coordinate with schools and parents
                </div>
              </div>

              <!-- Budget Planning -->
              <div
                class="insight-card bg-yellow-50 border border-yellow-200 rounded-lg p-4"
              >
                <div class="flex items-center mb-2">
                  <svg
                    class="w-5 h-5 text-yellow-600 mr-2"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <h4 class="font-semibold text-yellow-800">Budget Planning</h4>
                  <span
                    class="ml-auto text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full"
                    >Financial</span
                  >
                </div>
                <p class="text-sm text-yellow-700 mb-3">
                  Allocate 40% of budget for Q3
                </p>
                <div class="bg-yellow-100 rounded p-2 mb-2">
                  <div class="flex justify-between text-xs">
                    <span>Peak Season:</span>
                    <span class="font-semibold">â‚±850,000</span>
                  </div>
                </div>
                <div class="text-xs text-yellow-600">
                  <strong>Focus:</strong> Emergency supplies and overtime pay
                </div>
              </div>
            </div>
          </div>

          <!-- Historical Comparison -->
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <h3 class="text-lg font-bold text-gray-900 mb-4">
              Historical Comparison
            </h3>
            <div class="h-64">
              <canvas id="historicalComparisonChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- External JavaScript -->
    <script src="../JAVASCRIPT/navigation.js"></script>
    <script src="../JAVASCRIPT/Dashboard.js"></script>
    <script src="../JAVASCRIPT/SeasonalityExplorer.js"></script>
  </body>
</html>
